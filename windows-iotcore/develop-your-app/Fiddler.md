---
title: Erfassen von Fiddler-Ablaufverfolgungen
author: saraclay
ms.author: saclayt
ms.date: 08/28/2017
ms.topic: article
description: Erfahren Sie, wie Sie Fiddler verwenden, um das Erfassen von Fiddler-ablaufverfolgungen unter Windows IoT Core.
keywords: Windows Iot, Fiddler, ablaufverfolgungen, PuTTY, Fiddler-ablaufverfolgungen
ms.openlocfilehash: b8bf4fa6390aad9640ad9139a8a164a9c83fcff5
ms.sourcegitcommit: ef85ccba54b1118d49554e88768240020ff514b0
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 04/11/2019
ms.locfileid: "59513289"
---
# <a name="capturing-fiddler-traces-on-windows-iot-core"></a><span data-ttu-id="9b992-104">Erfassen von Fiddler-Ablaufverfolgungen unter Windows IoT Core</span><span class="sxs-lookup"><span data-stu-id="9b992-104">Capturing Fiddler Traces on Windows IoT Core</span></span>

<span data-ttu-id="9b992-105">Fiddler ist ein Tool zum Debuggen von Webdatenverkehr an.</span><span class="sxs-lookup"><span data-stu-id="9b992-105">Fiddler is a tool for debugging web traffic.</span></span> <span data-ttu-id="9b992-106">Es ist besonders hilfreich, da Sie es für bestimmte Anforderungen, die mithilfe von Erweiterungen und Add-ons anpassen und das Tool viele nützliche Informationen, die spezifisch für Webdatenverkehr können bietet.</span><span class="sxs-lookup"><span data-stu-id="9b992-106">It's particularly helpful because you can customize it for specific needs using extensions and add-ons, and the tool provides a lot of useful information specific to web traffic.</span></span>

## <a name="assumptions"></a><span data-ttu-id="9b992-107">Annahmen</span><span class="sxs-lookup"><span data-stu-id="9b992-107">Assumptions</span></span> 

* <span data-ttu-id="9b992-108">Sie haben [PuTTY](http://www.putty.org/) auf der entwicklerbox oder eine Alternative für SSH</span><span class="sxs-lookup"><span data-stu-id="9b992-108">You have [PuTTY](http://www.putty.org/) on your developer box or an alternative for SSH</span></span>
* <span data-ttu-id="9b992-109">Die folgenden Anweisungen führen zu der Annahme einer IoT Core VM, aber funktioniert auf *alle* IoT Core-Geräts</span><span class="sxs-lookup"><span data-stu-id="9b992-109">The instructions below make the assumption of a IoT Core VM but will work on *any* IoT Core device</span></span>

## <a name="initial-setup"></a><span data-ttu-id="9b992-110">Anfangssetup</span><span class="sxs-lookup"><span data-stu-id="9b992-110">Initial Setup</span></span>

1. <span data-ttu-id="9b992-111">Herunterladen und installieren Sie die neueste Version des [Fiddler](http://www.telerik.com/fiddler/) auf der entwicklerbox, sofern Sie noch nicht geschehen.</span><span class="sxs-lookup"><span data-stu-id="9b992-111">Download and install the latest version of [Fiddler](http://www.telerik.com/fiddler/) on your developer box if you haven't already</span></span>
2. <span data-ttu-id="9b992-112">Starten Sie Fiddler, und stellen Sie die folgende Einstellung Updates unter _Extras -> Telerik Fiddler-Optionen -> HTTPS_ Registerkarte</span><span class="sxs-lookup"><span data-stu-id="9b992-112">Start Fiddler and make the following setting updates under _Tools -> Telerik Fiddler Options -> HTTPS_ tab</span></span>
    * <span data-ttu-id="9b992-113">Überprüfen Sie _HTTPS CONNECTs erfassen_</span><span class="sxs-lookup"><span data-stu-id="9b992-113">Check _Capture HTTPS CONNECTs_</span></span>
    * <span data-ttu-id="9b992-114">Überprüfen Sie _HTTPS-Datenverkehr entschlüsseln, die von allen Prozessen ->_</span><span class="sxs-lookup"><span data-stu-id="9b992-114">Check _Decrypt HTTPS Traffic -> from all processes_</span></span>
    * <span data-ttu-id="9b992-115">Klicken Sie auf den Link "Von generierten Zertifikate", und wählen Sie _"MakeCert"-Engine_ (Empfehlung: Fiddler für diese Änderung wirksam wird neu gestartet)</span><span class="sxs-lookup"><span data-stu-id="9b992-115">Click on the 'Certificates generated by' link and select _MakeCert engine_ (Recommendation: Restart Fiddler for this change to take effect)</span></span>
    * <span data-ttu-id="9b992-116">Exportieren Sie als Nächstes die Datei FiddlerRoot.cer über _Aktionen -> Root-Zertifikat auf Desktop exportieren_</span><span class="sxs-lookup"><span data-stu-id="9b992-116">Next, export the FiddlerRoot.cer file via _Actions -> Export Root Certificate To Desktop_</span></span>
3. <span data-ttu-id="9b992-117">Nehmen Sie folgende Einstellung Änderungen unter _Telerik Fiddler-Optionen für Extras -> Verbindungen ->_ Registerkarte:</span><span class="sxs-lookup"><span data-stu-id="9b992-117">Make the following setting updates under _Tools -> Telerik Fiddler Options -> Connections_ tab:</span></span>
    * <span data-ttu-id="9b992-118">Einrichten von Fiddler, fungiert als systemproxy anhand _Remotecomputern zum Herstellen einer Verbindung zulassen_</span><span class="sxs-lookup"><span data-stu-id="9b992-118">Setup Fiddler to act as a system proxy by checking _Allow Remote Computers to Connect_</span></span>
    * <span data-ttu-id="9b992-119">_Fiddler Lauscht auf Port_ sollte festgelegt werden, um _8888_</span><span class="sxs-lookup"><span data-stu-id="9b992-119">_Fiddler listens on port_ should be set to _8888_</span></span>
  
<span data-ttu-id="9b992-120">Hinweis: Sie starten Sie Fiddler anschließend neu, und akzeptieren alle UAC-Eingabeaufforderung.</span><span class="sxs-lookup"><span data-stu-id="9b992-120">Note: You should restart Fiddler after this and accept any UAC prompt.</span></span>

## <a name="transfer-and-import-fiddler-root-certificate"></a><span data-ttu-id="9b992-121">Übertragen Sie und importieren Sie Fiddler-Stammzertifikat</span><span class="sxs-lookup"><span data-stu-id="9b992-121">Transfer and Import Fiddler Root Certificate</span></span>
<span data-ttu-id="9b992-122">Sie müssen das Stammzertifikat Fiddler auf Ihren IoT-Image oder zu importieren, um Https routing von Datenverkehr über den PC zu debuggen.</span><span class="sxs-lookup"><span data-stu-id="9b992-122">You'll need to import the Fiddler root certificate to your IoT image or device in order to debug https traffic routing through your PC.</span></span>  <span data-ttu-id="9b992-123">Gehen Sie dazu wie folgt vor:</span><span class="sxs-lookup"><span data-stu-id="9b992-123">To do this:</span></span>

1. <span data-ttu-id="9b992-124">Einbinden die VHD-Datei (klicken Sie mit der rechten Maustaste auf die virtuelle Festplatte, und wählen Sie _einbinden_) oder eine Verbindung mit Ihrem IoT-Gerät per PuTTY herstellen (oder anderen SSH-Client)</span><span class="sxs-lookup"><span data-stu-id="9b992-124">Mount the VHD file (right click on the VHD and choose _mount_) or connect to your IoT device via PuTTY (or alternative SSH client)</span></span>
2. <span data-ttu-id="9b992-125">Navigieren Sie zu der Partition MainOS und erstellen Sie eine _testen_ Ordner Stamm (über SSH verwenden _Md c:\test_)</span><span class="sxs-lookup"><span data-stu-id="9b992-125">Browse to the mainOS partition and create a _test_ folder at root (via SSH, use _md c:\test_)</span></span>
3. <span data-ttu-id="9b992-126">Kopieren Sie zuvor generierten FiddlerRoot.cer (sollte auf Ihrem Desktop standardmäßig sein) in den Test-Ordner</span><span class="sxs-lookup"><span data-stu-id="9b992-126">Copy FiddlerRoot.cer you generated above (should be on your desktop by default) to the test folder location</span></span>
4. <span data-ttu-id="9b992-127">Wenn Sie eine virtuelle Festplatte verwenden zu können, indem jedem bereitgestelltes Laufwerk auswerfen heben Sie auf und dann starten Sie die IoT-Core-VM über Hyper-v</span><span class="sxs-lookup"><span data-stu-id="9b992-127">If using a VHD, unmount it by ejecting any of the mounted drives and then start the IoT Core VM via HyperV</span></span>
5. <span data-ttu-id="9b992-128">Starten einer [SSH-Sitzung](../connect-your-device/ssh.md) und melden Sie sich als Administrator</span><span class="sxs-lookup"><span data-stu-id="9b992-128">Start an [SSH session](../connect-your-device/ssh.md) and login as administrator</span></span> 
6. <span data-ttu-id="9b992-129">Navigieren Sie zu c:\test-Verzeichnis, in der SSH-Sitzung</span><span class="sxs-lookup"><span data-stu-id="9b992-129">Navigate to c:\test directory in your SSH session</span></span>
7. <span data-ttu-id="9b992-130">Importieren Sie Fiddler-Stammzertifikats per Befehl:</span><span class="sxs-lookup"><span data-stu-id="9b992-130">Import Fiddler Root Certificate via command:</span></span>
    * `certmgr -add FiddlerRoot.cer -r localmachine -s root`
8. <span data-ttu-id="9b992-131">SSH-Sitzung schließen</span><span class="sxs-lookup"><span data-stu-id="9b992-131">Close SSH session</span></span>


## <a name="setup-proxy-on-vm-or-iot-core-device"></a><span data-ttu-id="9b992-132">Einrichten der Proxy auf dem virtuellen Computer oder IoT Core-Geräts</span><span class="sxs-lookup"><span data-stu-id="9b992-132">Setup Proxy on VM or IoT Core Device</span></span>
<span data-ttu-id="9b992-133">Die folgenden Schritte werden Ihre IoT-VM oder ein Gerät zum Weiterleiten von Datenverkehr über den PC zulassen, damit, Fiddler Netzwerkdatenverkehr für die Analyse erfassen kann:</span><span class="sxs-lookup"><span data-stu-id="9b992-133">The steps below will allow your IoT VM or device to route traffic through your PC so that Fiddler can capture network traffic for analysis:</span></span>

1. <span data-ttu-id="9b992-134">Bestimmen Sie die IP-Adresse Ihres Entwicklungscomputers, die über eine CMD-Konsole über _Ipconfig_</span><span class="sxs-lookup"><span data-stu-id="9b992-134">Determine the IP of your development machine using a CMD console via _ipconfig_</span></span>
2. <span data-ttu-id="9b992-135">Starten Sie eine neue SSH-Sitzung, und dieses Mal ist, melden Sie sich als DefaultUser (Benutzername: _DefaultAccount_ Pwd: _[leere]_ )</span><span class="sxs-lookup"><span data-stu-id="9b992-135">Start a new SSH session and this time, login as defaultUser (Username: _DefaultAccount_  Pwd: _[blank]_ )</span></span>
3. <span data-ttu-id="9b992-136">Legen Sie den Proxy über die folgenden Befehle ein:</span><span class="sxs-lookup"><span data-stu-id="9b992-136">Set the proxy via the following commands:</span></span>
    * `reg add "hkcu\Software\Microsoft\Windows\CurrentVersion\Internet Settings" /v ProxyEnable /t REG_DWORD /d 1`
    * `reg add "hkcu\Software\Microsoft\Windows\CurrentVersion\Internet Settings" /v ProxyServer /t REG_SZ /d [PC IP address]:8888`

<span data-ttu-id="9b992-137">Wenn nicht bereits ausgeführt wird, starten Sie Fiddler auf Ihrem PC, Neustarten des virtuellen Computers oder IoT Core-Geräts ein, und Datenverkehr an Fiddler jetzt weitergeleitet werden soll.</span><span class="sxs-lookup"><span data-stu-id="9b992-137">If not already running, start Fiddler on your PC, restart your VM or IoT Core device and traffic should now be routed through Fiddler.</span></span> 

<span data-ttu-id="9b992-138">Hinweis: Wenn Sie Https-Verbindung in Fiddler, aber keine Daten angezeigt wird, wurde das Zertifikat wahrscheinlich nicht ordnungsgemäß installiert.</span><span class="sxs-lookup"><span data-stu-id="9b992-138">Note: If you see https CONNECT in Fiddler but no data, the certificate was likely not installed correctly.</span></span> <span data-ttu-id="9b992-139">Stellen Sie sicher, dass Sie nicht verpassen der _übertragen und Import Fiddler-Stammzertifikat_ oben beschriebenen Schritte.</span><span class="sxs-lookup"><span data-stu-id="9b992-139">Make sure you didn't miss the _Transfer and Import Fiddler Root Certificate_ steps above.</span></span>

<span data-ttu-id="9b992-140">Veröffentlichungsanzahl, wenn Sie den Proxy wieder aus Anmerkung aktivieren, dass die oben genannten Registrierungsschlüssel in ein binäres Blob in einen anderen Schlüssel zwischengespeichert abrufen möchten.</span><span class="sxs-lookup"><span data-stu-id="9b992-140">Additonally, if you wish to turn the proxy back off note that the above reg keys get cached in a binary blob in another key.</span></span> <span data-ttu-id="9b992-141">Daher müssen zusätzlich zum Entfernen von oben Sie in Schritt 3 hinzugefügten Schlüssel auch Schritte ausführen:</span><span class="sxs-lookup"><span data-stu-id="9b992-141">so, in addition to removing the keys just added in step 3 above you also need to do:</span></span>

    reg delete "hkcu\Software\Microsoft\Windows\CurrentVersion\Internet Settings\Connections"
    
    
