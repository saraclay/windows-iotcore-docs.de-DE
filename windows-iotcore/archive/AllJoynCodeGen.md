---
title: Übersicht über die AllJoynCodeGen
author: saraclay
ms.author: saclayt
ms.date: 09/06/17
ms.topic: article
ms.prod: windows-iot
ms.technology: IoT
description: Informationen Sie zu AllJoynCodeGen, ein Tool zur codegenerierung, die eine vollständige Windows-Runtime-Komponente, die über AllJoyn-Schnittstellen generiert.
keywords: Windows Iot, dass AllJoyn
ms.openlocfilehash: c8e9f08c5565c7e4252e1b15858c08402eedb712
ms.sourcegitcommit: ef85ccba54b1118d49554e88768240020ff514b0
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 04/11/2019
ms.locfileid: "59513730"
---
> [!NOTE]
> <span data-ttu-id="3e9d0-104">Sie zeigen die archivierte Dokumentation.</span><span class="sxs-lookup"><span data-stu-id="3e9d0-104">You are viewing archived documentation.</span></span> <span data-ttu-id="3e9d0-105">AllJoyn wird nicht mehr von Windows 10 IoT unterstützt.</span><span class="sxs-lookup"><span data-stu-id="3e9d0-105">AllJoyn is no longer supported by Windows 10 IoT.</span></span> <span data-ttu-id="3e9d0-106">Öffnen Sie ein Problem auf GitHub, oder lassen Sie uns Feedback in den Kommentaren, Fragen.</span><span class="sxs-lookup"><span data-stu-id="3e9d0-106">For questions, please open an issue on GitHub or leave us feedback in the comments below.</span></span>

# <a name="alljoyncodegen-overview"></a><span data-ttu-id="3e9d0-107">Übersicht über die AllJoynCodeGen</span><span class="sxs-lookup"><span data-stu-id="3e9d0-107">AllJoynCodeGen Overview</span></span>

<span data-ttu-id="3e9d0-108">Wir haben ein Tool zur codegenerierung, AllJoynCodeGen, erstellt, die eine vollständige Windows-Runtime-Komponente, die über eine oder mehrere AllJoyn-Schnittstellen abgeleitet, eine Spezifikation oder ein Gerät eine XML-Beschreibung generiert.</span><span class="sxs-lookup"><span data-stu-id="3e9d0-108">We've created a code generation tool, AllJoynCodeGen, that generates a complete Windows Runtime component using an XML description of one or more AllJoyn interfaces derived from a specification or device.</span></span>

<span data-ttu-id="3e9d0-109">Die Windows-Runtime-Komponente, die von diesem Tool generierte in einer beliebigen unterstützten Sprache genutzt werden kann (JS, C#, C++/CX usw.) mithilfe von APIs, die in die universelle Windows-SDK verfügbar sind.</span><span class="sxs-lookup"><span data-stu-id="3e9d0-109">The Windows Runtime component generated by this tool can be consumed in any supported language (JS, C#, C++/CX, etc.) using APIs that are available in the Universal Windows SDK.</span></span> <span data-ttu-id="3e9d0-110">Dies bedeutet, dass die gleiche Komponente auf allen Plattformen verwendet werden kann, die das AllJoyn OneCore-Paket (Router-Dienst und C-API-Dll). Entwickler können dann die Komponente, um ein Producer und/oder ein Consumer dieser Schnittstelle zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="3e9d0-110">This means that the same component can be used on any platform that has the AllJoyn OneCore package (router service and C API dll.) A developer can then use the component to create a producer and/or a consumer of that interface.</span></span> 

<span data-ttu-id="3e9d0-111">**Beachten Sie** für Weitere Informationen zu den C-AllJoyn-APIs, Sie können den AllJoyn Core SDK und die Dokumentation unter [der AllSeen Alliance](http://go.microsoft.com/fwlink/?LinkId=524584).</span><span class="sxs-lookup"><span data-stu-id="3e9d0-111">**Note**  For more details about the AllJoyn C APIs, you can download the AllJoyn Core SDK and documentation at [The AllSeen Alliance](http://go.microsoft.com/fwlink/?LinkId=524584).</span></span>

## <a name="how-does-alljoyncodegen-work"></a><span data-ttu-id="3e9d0-112">Wie funktioniert die AllJoynCodeGen?</span><span class="sxs-lookup"><span data-stu-id="3e9d0-112">How does AllJoynCodeGen work?</span></span>

<span data-ttu-id="3e9d0-113">Der grundlegende Ablauf sieht wie folgt aus:</span><span class="sxs-lookup"><span data-stu-id="3e9d0-113">The basic flow is as follows:</span></span>

1. <span data-ttu-id="3e9d0-114">Eine XML-Datei erstellt, in der AllJoyn-XML (derzeit DBus Introspection-Format), die den Dienst beschreibt ist das Codegen-Tool erfasst werden.</span><span class="sxs-lookup"><span data-stu-id="3e9d0-114">An XML file authored in the AllJoyn XML (currently DBus introspection format) that describes the service is fed into the codegen tool.</span></span>
2. <span data-ttu-id="3e9d0-115">Die AllJoynCodeGen-Tool generiert Code, der zu einer Windows-Runtime-Komponente führt.</span><span class="sxs-lookup"><span data-stu-id="3e9d0-115">The AllJoynCodeGen tool generates code that results in a Windows Runtime component.</span></span> <span data-ttu-id="3e9d0-116">Dieser generierte Code basiert auf **MSAJAPI.lib** und [Windows.Devices.AllJoyn](https://msdn.microsoft.com/library/windows/apps/xaml/windows.devices.alljoyn.aspx) aus dem Windows 10-SDK.</span><span class="sxs-lookup"><span data-stu-id="3e9d0-116">This generated code relies on **MSAJAPI.lib** and [Windows.Devices.AllJoyn](https://msdn.microsoft.com/library/windows/apps/xaml/windows.devices.alljoyn.aspx) from the Windows 10 SDK.</span></span>
3. <span data-ttu-id="3e9d0-117">Der Entwickler erstellt eine Anwendung, die diese Komponente verwendet.</span><span class="sxs-lookup"><span data-stu-id="3e9d0-117">The developer builds an application that consumes this component.</span></span>
4. <span data-ttu-id="3e9d0-118">Zur Laufzeit wird die Anwendung des Entwicklers die Windows-Runtime-Komponente, die vom Tool generierten geladen (z. B.: foo.dll,) als auch die mitgelieferten DLLs **MSAJAPI.dll** und **Windows.Devices.AllJoyn.dll**.</span><span class="sxs-lookup"><span data-stu-id="3e9d0-118">At runtime, the developer's application will load the Windows Runtime component generated by the tool (e.g.: foo.dll,) as well as the in-box DLLs **MSAJAPI.dll** and **Windows.Devices.AllJoyn.dll**.</span></span>

<span data-ttu-id="3e9d0-119">Im folgenden Workflowdiagramm veranschaulicht diesen Prozess:</span><span class="sxs-lookup"><span data-stu-id="3e9d0-119">The following workflow diagram illustrates this process:</span></span>

![Dass AllJoyn-CodeGen-Diagramm](../media/AllJoyn/alljoyncodegen.png)

## <a name="running-from-the-command-line"></a><span data-ttu-id="3e9d0-121">Ausführen über die Befehlszeile</span><span class="sxs-lookup"><span data-stu-id="3e9d0-121">Running from the command line</span></span>

<span data-ttu-id="3e9d0-122">Das Tool AllJoynCodeGen ist derzeit als ein Befehlszeilentool, das im Lieferumfang von Windows 10 SDK vorhanden.</span><span class="sxs-lookup"><span data-stu-id="3e9d0-122">The AllJoynCodeGen tool currently exists as a command line tool shipped with the Windows 10 SDK.</span></span> <span data-ttu-id="3e9d0-123">Führen Sie das Tool übergeben Sie eine gültige XML-Datei mithilfe der folgenden Zeichenfolge:</span><span class="sxs-lookup"><span data-stu-id="3e9d0-123">To run the tool pass a valid XML file using the following string:</span></span>

    AllJoynCodeGen –i Foo.xml –o c:\users\developer1\documents\Foo\

## <a name="reviewing-the-output"></a><span data-ttu-id="3e9d0-124">Überprüfen die Ausgabe</span><span class="sxs-lookup"><span data-stu-id="3e9d0-124">Reviewing the output</span></span>

<span data-ttu-id="3e9d0-125">Die generierten Klassen zu umschließen Funktionalität, die von der Kern-C-API verfügbar gemacht werden.</span><span class="sxs-lookup"><span data-stu-id="3e9d0-125">The generated classes wrap functionality exposed by the Core C API.</span></span> <span data-ttu-id="3e9d0-126">Da es sich bei der generierte Code eine Abstraktion ist, ist dies keine 1: 1 Zuordnung.</span><span class="sxs-lookup"><span data-stu-id="3e9d0-126">Because the generated code is an abstraction, this is not a 1-to-1 mapping.</span></span> <span data-ttu-id="3e9d0-127">Die folgende Tabelle zeigt, welcher Kern C++ APIs werden von jeder Klasse generierten Code eingeschlossen.</span><span class="sxs-lookup"><span data-stu-id="3e9d0-127">The table below shows which Core C++ APIs are wrapped by each generated code class.</span></span> <span data-ttu-id="3e9d0-128">Für die generierten Namen in der Tabelle werden die folgenden Platzhalter verwendet:</span><span class="sxs-lookup"><span data-stu-id="3e9d0-128">The following placeholders are used for generated names in the table:</span></span>

* `<Foo>` <span data-ttu-id="3e9d0-129">Der Name der Schnittstelle definiert die XML-Datei</span><span class="sxs-lookup"><span data-stu-id="3e9d0-129">is the name of the interface defined in the xml file</span></span>
* `<Signal>` <span data-ttu-id="3e9d0-130">Der Name eines Signals zu stammt aus der XML-Datei</span><span class="sxs-lookup"><span data-stu-id="3e9d0-130">is the name of a signal, taken from the xml file</span></span>
* `<Method>` <span data-ttu-id="3e9d0-131">Der Name einer Methode, die XML-Datei entnommen</span><span class="sxs-lookup"><span data-stu-id="3e9d0-131">is the name of a method, taken from the xml file</span></span>
* `<Property>` <span data-ttu-id="3e9d0-132">Der Name einer Eigenschaft, die XML-Datei entnommen</span><span class="sxs-lookup"><span data-stu-id="3e9d0-132">is the name of a property, taken from the xml file</span></span>


> | <span data-ttu-id="3e9d0-133">Windows-Runtime-Klasse</span><span class="sxs-lookup"><span data-stu-id="3e9d0-133">Windows Runtime Class</span></span> |  | <span data-ttu-id="3e9d0-134">Beschreibung</span><span class="sxs-lookup"><span data-stu-id="3e9d0-134">Description</span></span> | <span data-ttu-id="3e9d0-135">Core C++ API</span><span class="sxs-lookup"><span data-stu-id="3e9d0-135">Core C++ API</span></span> |
> | ------------------------ | --- | --------- | ---------- |
> | `<Foo>`<span data-ttu-id="3e9d0-136">Watcher</span><span class="sxs-lookup"><span data-stu-id="3e9d0-136">Watcher</span></span> |  | <span data-ttu-id="3e9d0-137">Sucht nach Hersteller, die den Zieldienst angekündigt werden soll.</span><span class="sxs-lookup"><span data-stu-id="3e9d0-137">Searches for producers that advertise the target service</span></span> | <span data-ttu-id="3e9d0-138">*BusListener* Klasse. *BusAttachment* Klasse</span><span class="sxs-lookup"><span data-stu-id="3e9d0-138">*BusListener* class; *BusAttachment* class</span></span> |
> | `<Foo>`<span data-ttu-id="3e9d0-139">JoinSessionResult</span><span class="sxs-lookup"><span data-stu-id="3e9d0-139">JoinSessionResult</span></span> |  | <span data-ttu-id="3e9d0-140">Meldet den Erfolg oder Misserfolg der beitreten zu einer Sitzung, und stellt eine `<Foo>Consumer` -Instanz für die Sitzung, wenn die Verknüpfung erfolgreich war.</span><span class="sxs-lookup"><span data-stu-id="3e9d0-140">Reports the success or failure of joining a session, and exposes a `<Foo>Consumer` instance for the session if the join was successful.</span></span> | <span data-ttu-id="3e9d0-141">*JoinSessionAsyncCB* class; *QStatus*</span><span class="sxs-lookup"><span data-stu-id="3e9d0-141">*JoinSessionAsyncCB* class; *QStatus*</span></span> |
> | `<Foo>`<span data-ttu-id="3e9d0-142">Producer</span><span class="sxs-lookup"><span data-stu-id="3e9d0-142">Producer</span></span> |  | <span data-ttu-id="3e9d0-143">Kündigt einen Dienst, und macht Sie Handler für AllJoyn-Ereignisse verfügbar.</span><span class="sxs-lookup"><span data-stu-id="3e9d0-143">Advertises a service and exposes handlers for AllJoyn events.</span></span> | <span data-ttu-id="3e9d0-144">*BusObject* Klasse. *BusAttachment* Klasse. *InterfaceDescription* Klasse. *SessionPortListener* Klasse. *Nachricht* Klasse</span><span class="sxs-lookup"><span data-stu-id="3e9d0-144">*BusObject* class; *BusAttachment* class; *InterfaceDescription* class; *SessionPortListener* class; *Message* class</span></span> |
> | `<Foo>`<span data-ttu-id="3e9d0-145">Signale</span><span class="sxs-lookup"><span data-stu-id="3e9d0-145">Signals</span></span> |  | <span data-ttu-id="3e9d0-146">Macht Methoden und -Handler zum Senden und Empfangen von Signalen.</span><span class="sxs-lookup"><span data-stu-id="3e9d0-146">Exposes methods and handlers to send and receive signals.</span></span> <span data-ttu-id="3e9d0-147">Wird von sowohl Producer und Consumer verwendet.</span><span class="sxs-lookup"><span data-stu-id="3e9d0-147">Used by both producers and consumers.</span></span> | <span data-ttu-id="3e9d0-148">*BusObject* Klasse. *InterfaceDescription* Klasse. *Nachricht* Klasse</span><span class="sxs-lookup"><span data-stu-id="3e9d0-148">*BusObject* class; *InterfaceDescription* class; *Message* class</span></span> |
> | `<Foo>`<span data-ttu-id="3e9d0-149">Consumer</span><span class="sxs-lookup"><span data-stu-id="3e9d0-149">Consumer</span></span> |  | <span data-ttu-id="3e9d0-150">Interagiert mit einem Dienst, nachdem diese ermittelt wurde.</span><span class="sxs-lookup"><span data-stu-id="3e9d0-150">Interacts with a service after it has been discovered.</span></span> | <span data-ttu-id="3e9d0-151">*ProxyBusObject* Klasse. *InterfaceDescription* Klasse. *SessionListener* Klasse. *Nachricht* Klasse</span><span class="sxs-lookup"><span data-stu-id="3e9d0-151">*ProxyBusObject* class; *InterfaceDescription* class; *SessionListener* class; *Message* class</span></span> |
> | `<Foo>``<Method>`<span data-ttu-id="3e9d0-152">CalledEventArgs</span><span class="sxs-lookup"><span data-stu-id="3e9d0-152">CalledEventArgs</span></span> |  | <span data-ttu-id="3e9d0-153">Argumente übergeben an Methoden in `EventAdapters.<Foo>ServiceEventAdapter`.</span><span class="sxs-lookup"><span data-stu-id="3e9d0-153">Arguments passed to methods in `EventAdapters.<Foo>ServiceEventAdapter`.</span></span> | <span data-ttu-id="3e9d0-154">*Nachricht* Klasse</span><span class="sxs-lookup"><span data-stu-id="3e9d0-154">*Message* class</span></span> |
> | `<Foo>``<Method>`<span data-ttu-id="3e9d0-155">Ergebnis</span><span class="sxs-lookup"><span data-stu-id="3e9d0-155">Result</span></span> |  | <span data-ttu-id="3e9d0-156">Ein, die Implementierungen der Dienstmethode in der ich<Foo>Dienst, um den Erfolg oder Fehler des Aufrufs, sowie alle Rückgabewerte melden.</span><span class="sxs-lookup"><span data-stu-id="3e9d0-156">Used by method implementations in I<Foo>Service to report the success or failure of the call, as well as any return values.</span></span> | <span data-ttu-id="3e9d0-157">*Nachricht* Klasse. *QStatus*</span><span class="sxs-lookup"><span data-stu-id="3e9d0-157">*Message* class; *QStatus*</span></span> |
> | `<Foo>``<Signal>`<span data-ttu-id="3e9d0-158">ReceivedEventArgs</span><span class="sxs-lookup"><span data-stu-id="3e9d0-158">ReceivedEventArgs</span></span> |  | <span data-ttu-id="3e9d0-159">Argumente zu übergeben, auf ein Signal in <Foo>signalisiert.</span><span class="sxs-lookup"><span data-stu-id="3e9d0-159">Arguments passed to a signal in <Foo>Signals.</span></span> | <span data-ttu-id="3e9d0-160">*Nachricht* Klasse</span><span class="sxs-lookup"><span data-stu-id="3e9d0-160">*Message* class</span></span> |


## <a name="build-guide"></a><span data-ttu-id="3e9d0-161">Handbuch zu erstellen</span><span class="sxs-lookup"><span data-stu-id="3e9d0-161">Build guide</span></span>

#### <a name="creating-the-component"></a><span data-ttu-id="3e9d0-162">Erstellen der Komponente</span><span class="sxs-lookup"><span data-stu-id="3e9d0-162">Creating the component</span></span>

<span data-ttu-id="3e9d0-163">Der generierte Code muss in einer Komponente enthalten sein, die den gleichen Schnittstellennamen als der XML-Code gemeinsam.</span><span class="sxs-lookup"><span data-stu-id="3e9d0-163">The generated code needs to be contained in a component that shares the same interface name as the XML.</span></span> <span data-ttu-id="3e9d0-164">Wenn der XML-Code für einen Toaster als com.microsoft.sample.toaster definiert ist, würden wir z. B. com.microsoft.sample eine Common Language Runtime-Komponente erstellen.</span><span class="sxs-lookup"><span data-stu-id="3e9d0-164">For example, if the XML for a toaster is defined as com.microsoft.sample.toaster, we would create a runtime component com.microsoft.sample.</span></span> 

<span data-ttu-id="3e9d0-165">Alternativ können Sie die Komponente den Namen (z. B. FooCodeGenComponent) angezeigt werden sollen, jedoch müssen Sie manuell aktualisieren, den Stamm-Namespace in den Projekteigenschaften auf den Namen der Schnittstelle identisch sein.</span><span class="sxs-lookup"><span data-stu-id="3e9d0-165">Alternatively, you can name the component whatever you want (e.g. fooCodeGenComponent), but you must manually update the root namespace under the Project properties to be the same as the interface name.</span></span>

> [!TIP]
> <span data-ttu-id="3e9d0-166">Sie finden den Stamm-Namespace in der Datei "PCH.h", die aus dem AllJoynCodeGen-Tool generiert wird.</span><span class="sxs-lookup"><span data-stu-id="3e9d0-166">You can find the root namespace in the pch.h file that is generated from the AllJoynCodeGen tool.</span></span>
